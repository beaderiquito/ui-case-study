<main>
	<div class="container">
		<div *ngIf="product">
			<div class="row m-2">
				<div class="col-sm-6 text-center">
					<img [src]="product.photo" style="width:70%">
				</div>
				<div class="col-sm-5">	
					<h3 class="text-center"><b>{{product.name}}</b></h3>
					<h5><p>{{toCurrency.format(product.price)}}</p></h5>
					<p><rating [(ngModel)]="average" [readonly]="true"></rating> ({{product.reviews.length}} Reviews)</p>
					<p>{{product.description}}</p>
					<button class="btn cart-btn" (click) = "addProduct()">ADD TO CART</button>
					<button routerLink="" class="btn cart-btn ml-3">MORE PRODUCTS</button>
				</div>
			</div>
			<div class="row pt-5">
				<div class="col-12 m-3">
					<h3>Ratings and Reviews ({{product.reviews.length}})</h3>
				</div>
			</div>
			<div *ngFor="let review of product.reviews">
				<div class="row m-4 p-3 card">
					<div class="col-12">
						<div class="row">
							<div class="col-12 col-sm-6">
								<div class="row">
									<div class="col-12">
										<b>{{review.username}}</b>
									</div>
									<div class="col-12">
										<rating [(ngModel)]="review.stars" [readonly]="true"></rating>
									</div>
								</div>
							</div>
							<div class="col-12 col-sm-6 text-right">
								{{review.date}}
							</div>
						</div>
					</div>
					<div class="col-12">
						<br/>{{review.content}}
					</div>
				</div>
			</div>
		</div>
	</div>
</main>