<main>
	<div class="container">
		<div *ngIf="product">
			<div class="row m-2">
				<div class="col-sm-6 text-center">
					<img [src]="product.photo" style="width:70%">
				</div>
				<div class="product-info col-sm-5">	
					<h3>{{product.name}}</h3>
					<h5><p>{{toCurrency.format(product.price)}}</p></h5>
					<p><rating [(ngModel)]="average" [readonly]="true"></rating> ({{product.reviews.length}} Reviews)</p>
					<p>{{product.description}}</p>
					<button class="btn" (click) = "addProduct()">ADD TO CART</button>
					<button routerLink="" class="btn">MORE PRODUCTS</button>
				</div>
			</div>
			<div class="row pt-5">
				<div class="col-12">
					<h3 class="reviews-header">Ratings and Reviews ({{product.reviews.length}})</h3>
				</div>
			</div>
			<div *ngFor="let review of product.reviews">
				<div class="row card">
					<div class="col-12">
						<div class="row">
							<div class="col-12 col-sm-6">
								<div class="col-12 username">
									<b>{{review.username}}</b>
								</div>
								<div class="col-12 rating">
									<rating [(ngModel)]="review.stars" [readonly]="true"></rating>
								</div>
							</div>
							<div class="col-12 col-sm-6 date">
								{{review.date}}
							</div>
						</div>
					</div>
					<div class="col-12 content">
						<br/>{{review.content}}
					</div>
				</div>
			</div>
		</div>
	</div>
</main>